# 42. Trapping Rain Water

####

{% embed url="https://leetcode.com/problems/trapping-rain-water/description/" %}

#### Solution

![](https://2187286006-files.gitbook.io/~/files/v0/b/gitbook-x-prod.appspot.com/o/spaces%2FiQecqnXAxPpAqOy6q7mO%2Fuploads%2FHDvvDCxprAugyn8hqDAV%2Ffile.drawing.svg?alt=media\&token=a5907b90-d835-46f8-ae6a-ee22d97a7b0b)

```python
class Solution:
    def trap(self, height: List[int]) -> int:
        hl = [0]
        
        for h in height[:-1]:
            hl.append(max(hl[-1], h))

        result = 0
        hr = 0
        for hi in reversed(range(len(height))):
            result += max(min(hl[hi], hr) - height[hi], 0)
            hr = max(hr, height[hi])

        return result
```

#### Optimized Solution

![](https://2187286006-files.gitbook.io/~/files/v0/b/gitbook-x-prod.appspot.com/o/spaces%2FiQecqnXAxPpAqOy6q7mO%2Fuploads%2FYwiMYlyM47O7ho0XSGDt%2Ffile.drawing.svg?alt=media\&token=c6c3667a-131a-4474-bff6-35908b635a66)

```python
class Solution:
    def trap(self, height: List[int]) -> int:
        start = 0
        end = len(height) - 1
        max_left = height[0]
        max_right = height[-1]
        trapped_water = 0

        while start <= end:
            if max_left < max_right:
                trapped_water += max(max_left-height[start], 0)
                max_left = max(max_left, height[start])
                start += 1
            else:
                trapped_water += max(max_right-height[end], 0)
                max_right = max(max_right, height[end])
                end -= 1

        return trapped_water        
```
